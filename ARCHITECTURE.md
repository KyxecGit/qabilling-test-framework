# ๐๏ธ ะะะฅะะขะะะขะฃะะ QABilling Test Framework
## ะะปัะฑะพะบะพะต ะฟะพะณััะถะตะฝะธะต ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ ะธ Senior QA

> **ะัะตะดะฝะฐะทะฝะฐัะตะฝะฐ ะดะปั:** ะขะตั, ะบัะพ ัะพัะตั ะฟะพะฝััั "ะบะฐะบ ััะพ ะฒัั ัะฐะฑะพัะฐะตั ะฟะพะด ะบะฐะฟะพัะพะผ"

---

## ๐ **ะะะะะะะะะะ**

1. [ะคะธะปะพัะพัะธั & ะัะฑะพั ัะตัะฝะพะปะพะณะธะน](#1-ัะธะปะพัะพัะธั--ะฒัะฑะพั-ัะตัะฝะพะปะพะณะธะน)
2. [ะััะธัะตะบัััะฝะฐั ััะตะผะฐ](#2-ะฐััะธัะตะบัััะฝะฐั-ััะตะผะฐ)
3. [ะะตะบะพะฝััััะบัะธั ัะดัะฐ](#3-ะดะตะบะพะฝััััะบัะธั-ัะดัะฐ)
4. [ะะฐะฑะพัะฐ ั ะดะฐะฝะฝัะผะธ](#4-ัะฐะฑะพัะฐ-ั-ะดะฐะฝะฝัะผะธ)
5. [ะะฝัะตะณัะฐัะธั ั CI/CD](#5-ะธะฝัะตะณัะฐัะธั-ั-cicd)
6. [Contribution Guide](#6-contribution-guide)

---

## 1. **ะคะะะะกะะคะะฏ & ะะซะะะ ะขะะฅะะะะะะะ**

### ๐ฏ ะะพัะตะผั JUnit 5?

| ะฅะฐัะฐะบัะตัะธััะธะบะฐ | JUnit 4 | JUnit 5 | ะะฐัะต ัะตัะตะฝะธะต |
|----------------|---------|---------|-------------|
| ะะพะดัะปัะฝะพััั | โ ะผะพะฝะพะปะธั | โ ะฟะปะฐััะพัะผะฐ | โ ะธัะฟะพะปัะทัะตะผ |
| ะะฐัะฐะผะตััะธะทะฐัะธั | โ๏ธ ะพะณัะฐะฝะธัะตะฝะฐ | โ @ParameterizedTest | โ ะธัะฟะพะปัะทัะตะผ |
| @Nested ะดะปั ะณััะฟะฟะธัะพะฒะบะธ | โ ะฝะตั | โ ะตััั | โ ะธัะฟะพะปัะทัะตะผ |
| Custom Extensions | โ ะฝะตั | โ @ExtendWith | โ ะฟะปะฐะฝะธััะตะผ |
| Lifecycle callbacks | โ๏ธ @Before/@After | โ @BeforeEach/@AfterEach | โ ะธัะฟะพะปัะทัะตะผ |

**ะัะฒะพะด:** JUnit 5 ะดะฐัั ะฝะฐะผ ะณะธะฑะบะพััั, ะผะพะดัะปัะฝะพััั ะธ ัะพะฒัะตะผะตะฝะฝัะน API, ััะพ ะธะดะตะฐะปัะฝะพ ะดะปั ะพะฝะฑะพัะดะธะฝะณะฐ Junior-ัะฟะตัะธะฐะปะธััะพะฒ.

### ๐ก ะะปััะตะฒัะต ะฟัะธะฝัะธะฟั

1. **ะะณัะตััะธะฒะฝัะน ะผะธะฝะธะผะฐะปะธะทะผ:** ะฃะฑะธัะฐะตะผ boilerplate, ะธัะฟะพะปัะทัะตะผ ะฒัััะพะตะฝะฝัะต ัะธัะธ JUnit 5
2. **ะัะตะฒะธะดะฝะพััั ะฒะฐะถะฝะตะต "ะบัััะพััะธ":** ะะทะฑะตะณะฐะตะผ ัะปะพะถะฝะพะน ัะตัะปะตะบัะธะธ ะธ ะผะฐะณะธะธ
3. **SRP (Single Responsibility Principle):** ะะฐะถะดัะน ะบะปะฐัั ะพัะฒะตัะฐะตั ะทะฐ ะพะดะฝะพ
4. **ะกะฐะผะพะดะพะบัะผะตะฝัะธััะตะผัะน ะบะพะด:** ะะผะตะฝะฐ ะผะตัะพะดะพะฒ ัะธัะฐัััั ะบะฐะบ ะฟัะตะดะปะพะถะตะฝะธั

### ๐ข ะกะปะพะธ ะฐััะธัะตะบัััั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ TEST LAYER (ProfileApiTest ะธ ะดั.)       โ
โ  - @Test ะผะตัะพะดั                              โ
โ  - ะงะธัะฐัััั ะบะฐะบ ะฟัะตะดะปะพะถะตะฝะธั (BDD)           โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ASSERTION LAYER (ApiAssertions)         โ
โ  - ะะพัะพะฒัะต ะฟัะพะฒะตัะบะธ ะดะปั API                  โ
โ  - statusCode, body, structure               โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ HTTP LAYER (Rest Assured)               โ
โ  - given().when().then() DSL                 โ
โ  - ะะฐะฑะพัะฐ ั HTTP ะทะฐะฟัะพัะฐะผะธ/ะพัะฒะตัะฐะผะธ         โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ง CORE LAYER                              โ
โ  - BaseApiTest (ะฑะฐะทะพะฒัะน ะบะปะฐัั)              โ
โ  - ApiConfig (ะบะพะฝัะธะณััะฐัะธั)                 โ
โ  - AuthUtils (ะฐะฒัะพัะธะทะฐัะธั)                  โ
โ  - DriverFactory (ัะฟัะฐะฒะปะตะฝะธะต ัะตััััะฐะผะธ)     โ
โโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                   โ
โโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฆ DATA LAYER                              โ
โ  - DTO ะบะปะฐััั (ProfileDto ะธ ะดั.)            โ
โ  - TestDataGenerator (ัะฐะฑัะธะบะฐ ะดะฐะฝะฝัั)       โ
โ  - ะะพะณะธัะพะฒะฐะฝะธะต (SLF4J + Logback)            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 2. **ะะะฅะะขะะะขะฃะะะะฏ ะกะฅะะะ**

### ๐ ะะพัะพะบ ะฒัะฟะพะปะฝะตะฝะธั ัะตััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  1๏ธโฃ SETUP: ะะฝะธัะธะฐะปะธะทะฐัะธั                    โ
โ     - JUnit ะฒัะทัะฒะฐะตั @BeforeEach (ะตัะปะธ ะตััั)|
โ     - BaseApiTest.getAuthHeader() ะฟะพะปััะฐะตั  โ
โ       ัะพะบะตะฝ ะธะท ApiConfig                    โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
โโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  2๏ธโฃ CREATE DATA: ะกะพะทะดะฐะฝะธะต ัะตััะพะฒัั ะดะฐะฝะฝัั  โ
โ     - TestDataGenerator.Profile.valid()     โ
โ     - ProfileDto ั ะฟัะฐะฒะธะปัะฝัะผะธ ะทะฝะฐัะตะฝะธัะผะธ   โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
โโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  3๏ธโฃ API CALL: ะัะทะพะฒ API                     โ
โ     - given() - ะฟะพะดะณะพัะพะฒะบะฐ ะทะฐะฟัะพัะฐ          โ
โ     - .post() - ะพัะฟัะฐะฒะบะฐ                    โ
โ     - .extract() - ะฟะพะปััะตะฝะธะต ะพัะฒะตัะฐ         โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
โโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  4๏ธโฃ VERIFY: ะัะพะฒะตัะบะฐ ัะตะทัะปััะฐัะฐ            โ
โ     - .statusCode(200)                      โ
โ     - .body(...) - ะฟัะพะฒะตัะบะฐ ััััะบัััั       โ
โ     - ApiAssertions.* ะผะตัะพะดั                โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
โโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  5๏ธโฃ TEARDOWN: ะัะธััะบะฐ                      โ
โ     - JUnit ะฒัะทัะฒะฐะตั @AfterEach (ะตัะปะธ ะตััั) โ
โ     - ะะพะณะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ               โ
โ     - ะะฐะบัััะธะต ัะตััััะพะฒ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 3. **ะะะะะะกะขะะฃะะฆะะฏ ะฏะะะ**

### ๐ **BaseApiTest.java** - ะฏะดัะพ ัะตััะธัะพะฒะฐะฝะธั

```java
public abstract class BaseApiTest {
    
    /**
     * ๐ ะะพะณะณะตั ะดะปั ะฒัะตั ัะตััะพะฒ
     * ะะฐะถะดัะน ัะตัั ะผะพะถะตั ะฟะธัะฐัั ะปะพะณะธ:
     * log.info("ะะฐัะฐะปะพ ัะตััะฐ");
     * log.debug("ะะฝะฐัะตะฝะธะต ะฟะตัะตะผะตะฝะฝะพะน: {}", value);
     */
    protected static final Logger log = LoggerFactory.getLogger(BaseApiTest.class);
    
    /**
     * ๐ซ ะะพะปััะธัั Bearer ัะพะบะตะฝ ะดะปั ะฐะฒัะพัะธะทะฐัะธะธ
     * 
     * ะงัะพ ััะพ ะดะตะปะฐะตั:
     * 1. ะัะพะฒะตััะตั ะตััั ะปะธ ัะพะบะตะฝ ะฒ ะบััะต (ApiConfig.cachedToken)
     * 2. ะัะปะธ ะฝะตั - ะทะฐะฟัะฐัะธะฒะฐะตั ะฝะพะฒัะน ัะตัะตะท AuthUtils
     * 3. ะคะพัะผะฐัะธััะตั ะฒ "Bearer <token>"
     * 4. ะะพะทะฒัะฐัะฐะตั ะณะพัะพะฒัะน ะทะฐะณะพะปะพะฒะพะบ
     * 
     * ะะพัะตะผั ััะพ ะฒ ะฑะฐะทะพะฒะพะผ ะบะปะฐััะต?
     * - ะัะต ัะตััั ะฝะฐัะปะตะดััั BaseApiTest
     * - ะัะต ะฝัะถะฝั ะฒ ะฐะฒัะพัะธะทะฐัะธะธ
     * - ะะพะด ะฝะต ะดัะฑะปะธััะตััั (DRY)
     */
    protected String getAuthHeader() {
        return "Bearer " + ApiConfig.getToken();
    }
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** BaseApiTest ะฟัะตะดะพััะฐะฒะปัะตั:
- โ ะะพะณะธัะพะฒะฐะฝะธะต ัะตัะตะท `log` ะฟะพะปะต
- โ ะะฒัะพัะธะทะฐัะธั ัะตัะตะท `getAuthHeader()`
- โ Rest Assured static imports ัะตัะตะท ะฝะฐัะปะตะดะพะฒะฐะฝะธะต

---

### ๐ง **ApiConfig.java** - ะะพะฝัะธะณััะฐัะธั

```java
public class ApiConfig {
    
    // ๐ ะกัะฐัะธัะตัะบะธะต ะทะฝะฐัะตะฝะธั (ะฝะต ะผะตะฝััััั)
    public static final String BASE_URL = "http://195.38.164.168:7173";
    public static final String USERNAME = "superuser";
    public static final String PASSWORD = "Admin123!@#";
    
    // ๐ ะะธะฝะฐะผะธัะตัะบะธะต ะทะฝะฐัะตะฝะธั (ะผะพะณัั ะผะตะฝััััั)
    private static String cachedToken = null;
    
    /**
     * ๐ซ ะะพะปััะธัั JWT ัะพะบะตะฝ (ั ะบััะธัะพะฒะฐะฝะธะตะผ)
     * 
     * ะัะธะผะตั ัะฐะฑะพัั:
     * 1๏ธโฃ ะะตัะฒัะน ะฒัะทะพะฒ getToken() โ ะฟะพะปััะฐะตะผ ะฝะพะฒัะน ัะพะบะตะฝ
     * 2๏ธโฃ ะกะพััะฐะฝัะตะผ ะตะณะพ ะฒ cachedToken
     * 3๏ธโฃ ะัะพัะพะน ะฒัะทะพะฒ getToken() โ ะฒะพะทะฒัะฐัะฐะตะผ cachedToken (ะฑะตะท ะทะฐะฟัะพัะฐ)
     * 4๏ธโฃ ะัะต 49 ัะตััะพะฒ ะธัะฟะพะปัะทััั ะพะดะธะฝ ะธ ัะพั ะถะต ัะพะบะตะฝ
     * 
     * ะะฐัะตะผ ะบััะธัะพะฒะฐะฝะธะต?
     * - ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ = ัะตัะตะฒะพะน ะทะฐะฟัะพั = 500ะผั
     * - 49 ัะตััะพะฒ ร 500ะผั = 24.5 ัะตะบัะฝะดั ะฟะพัะตััะฝั ะฒะฟััััั
     * - ะก ะบััะตะผ: ะฟะตัะฒัะน ัะตัั 500ะผั + 48 ัะตััะพะฒ 0ะผั = ะฒัะธะณััั ะฒ 24 ัะตะบ
     */
    public static String getToken() {
        if (cachedToken == null) {
            log.info("๐ ะะพะปััะตะฝะธะต ะฝะพะฒะพะณะพ ัะพะบะตะฝะฐ ะฐะฒัะพัะธะทะฐัะธะธ...");
            cachedToken = AuthUtils.getFreshToken();
        }
        return cachedToken;
    }
    
    /**
     * ๐๏ธ ะกะฑัะพัะธัั ะบัั ัะพะบะตะฝะฐ
     * 
     * ะะพะณะดะฐ ะธัะฟะพะปัะทะพะฒะฐัั:
     * - ะัะปะธ ัะตัะฒะตั ะฒะตัะฝัะป "token expired"
     * - ะัะปะธ ะฝัะถะฝะพ ะฟัะพัะตััะธัะพะฒะฐัั ะพะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะฐ
     * - ะัะปะธ ะผะตะฝัะตัั ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ัะตัะตะดะธะฝะต ัะตััะพะฒ
     */
    public static void resetToken() {
        log.warn("๐ ะัั ัะพะบะตะฝะฐ ัะฑัะพัะตะฝ");
        cachedToken = null;
    }
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** ApiConfig - ััะพ "ะตะดะธะฝะฐั ะธััะพัะฝะธะบ ะธััะธะฝั" ะดะปั ะบะพะฝัะธะณััะฐัะธะธ.

---

### ๐ **AuthUtils.java** - ะฃัะธะปะธัั ะฐะฒัะพัะธะทะฐัะธะธ

```java
public class AuthUtils {
    
    /**
     * ๐ ะะพะปััะธัั JWT ัะพะบะตะฝ ัะตัะตะท ะฐะฒัะพัะธะทะฐัะธั
     * 
     * REST ะทะฐะฟัะพั:
     * POST /api/auth/sign_in
     * {
     *   "username": "superuser",
     *   "password": "Admin123!@#"
     * }
     * 
     * ะัะฒะตั:
     * {
     *   "content": {
     *     "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
     *   }
     * }
     */
    public static String getAuthToken() {
        String loginPayload = String.format(
            "{\"username\": \"%s\", \"password\": \"%s\"}", 
            ApiConfig.USERNAME, 
            ApiConfig.PASSWORD
        );
        
        Response response = given()
            .contentType("application/json")
            .body(loginPayload)
        .when()
            .post(ApiConfig.BASE_URL + "/api/auth/sign_in")
        .then()
            .statusCode(200)
            .extract().response();
        
        String token = extractTokenFromResponse(response);
        
        if (token == null || token.trim().isEmpty()) {
            throw new RuntimeException(
                "โ ะะต ัะดะฐะปะพัั ะธะทะฒะปะตัั ัะพะบะตะฝ ะธะท ะพัะฒะตัะฐ ะฐะฒัะพัะธะทะฐัะธะธ. " +
                "ะัะพะฒะตัั username/password ะฒ ApiConfig"
            );
        }
        
        log.debug("โ ะขะพะบะตะฝ ะฟะพะปััะตะฝ ััะฟะตัะฝะพ (ะฟะตัะฒัะต 20 ัะธะผะฒะพะปะพะฒ: {}...)", 
                  token.substring(0, Math.min(20, token.length())));
        
        return token;
    }
    
    /**
     * ๐ ะะทะฒะปะตัั ัะพะบะตะฝ ะธะท ะพัะฒะตัะฐ ะฐะฒัะพัะธะทะฐัะธะธ
     * 
     * ะกะปะพะถะฝะพััั: API ะผะพะถะตั ะฒะตัะฝััั ัะพะบะตะฝ ะฒ ัะฐะทะฝัั ะผะตััะฐั:
     * - content.token (ะฟัะฐะฒะธะปัะฝะพ ะฟะพ ัะฟะตะบะต)
     * - token (ะตัะปะธ ะฟะตัะตะดะตะปะฐะปะธ ะพัะฒะตั)
     * - access_token (ััะฐะฝะดะฐััะฝะพะต ะฝะฐะทะฒะฐะฝะธะต ะฒ OAuth)
     * - ะะฐะณะพะปะพะฒะพะบ Authorization: Bearer <token>
     * 
     * ะะตัะตะฝะธะต: ะััะฐะตะผัั ะฒัะต ะฒะฐัะธะฐะฝัั ะฟะพ ะพัะตัะตะดะธ
     */
    private static String extractTokenFromResponse(Response response) {
        String[] tokenFields = {
            "content.token",    // ะะถะธะดะฐะตะผะพะต ะผะตััะพ
            "token",            // ะะปััะตัะฝะฐัะธะฒะฐ 1
            "access_token",     // ะะปััะตัะฝะฐัะธะฒะฐ 2
            "authToken"         // ะะปััะตัะฝะฐัะธะฒะฐ 3
        };
        
        for (String field : tokenFields) {
            try {
                String token = response.jsonPath().getString(field);
                if (token != null && !token.trim().isEmpty()) {
                    log.debug("๐ ะขะพะบะตะฝ ะฝะฐะนะดะตะฝ ะฒ ะฟะพะปะต: {}", field);
                    return token;
                }
            } catch (Exception e) {
                log.trace("ะะพะปะต {} ะฝะต ะฝะฐะนะดะตะฝะพ (ะฝะพัะผะฐะปัะฝะพ)", field);
            }
        }
        
        // ะะพัะปะตะดะฝัั ะฟะพะฟััะบะฐ - ะฟัะพะฒะตัะธะผ ะทะฐะณะพะปะพะฒะบะธ
        String authHeader = response.getHeader("Authorization");
        if (authHeader != null && authHeader.startsWith("Bearer ")) {
            log.debug("๐ ะขะพะบะตะฝ ะฝะฐะนะดะตะฝ ะฒ ะทะฐะณะพะปะพะฒะบะต Authorization");
            return authHeader.substring(7);
        }
        
        log.error("โ ะขะพะบะตะฝ ะฝะต ะฝะฐะนะดะตะฝ ะฝะธ ะฒ ะพะดะฝะพะผ ะผะตััะต. Response:\n{}", 
                  response.prettyPrint());
        
        return null;
    }
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** AuthUtils ะพะฑัะฐะฑะฐััะฒะฐะตั ัะฐะทะปะธัะฝัะต ะฒะฐัะธะฐะฝัั ะพัะฒะตัะพะฒ API (tolerant reader pattern).

---

### ๐ **ApiAssertions.java** - ะะพัะพะฒัะต ะฟัะพะฒะตัะบะธ

```java
public class ApiAssertions {
    
    /**
     * ๐ฏ ะกัะฐัะธัะตัะบะธะต ะผะตัะพะดั ะดะปั HTTP status codes
     * 
     * ะะผะตััะพ:
     *   .statusCode(200)
     * 
     * ะะธัะตะผ:
     *   .statusCode(ApiAssertions.OK())
     * 
     * ะัะตะธะผััะตััะฒะฐ:
     * - IDE ะฐะฒัะพะดะพะฟะพะปะฝะตะฝะธะต
     * - ะกะฐะผะพะดะพะบัะผะตะฝัะธัะพะฒะฐะฝะธะต (ะฒะธะดะฝะพ ััะพ 200 = OK)
     * - ะะตะณัะต ะผะตะฝััั (ะตัะปะธ ััะฐััั ะบะพะดั ะฒะดััะณ ะฟะพะผะตะฝััััั)
     */
    
    public static int OK() { return 200; }
    public static int CREATED() { return 201; }
    public static int BAD_REQUEST() { return 400; }
    public static int UNAUTHORIZED() { return 401; }
    public static int FORBIDDEN() { return 403; }
    public static int NOT_FOUND() { return 404; }
    public static int SERVER_ERROR() { return 500; }
    
    /**
     * ๐ Matchers ะดะปั ััััะบัััั ะพัะฒะตัะฐ
     * 
     * ะะผะตััะพ:
     *   .body("code", equalTo("OK"))
     *   .body("content", notNullValue())
     * 
     * ะะธัะตะผ:
     *   .body(ApiAssertions.isOkResponse())
     *   .body("content", ApiAssertions.hasContent())
     */
    
    public static Matcher<?> isOkResponse() {
        return hasEntry("code", "OK");
    }
    
    public static Matcher<?> hasContent() {
        return notNullValue();
    }
    
    // ... ะพััะฐะปัะฝัะต ะผะตัะพะดั ...
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** ApiAssertions ัะตะฝััะฐะปะธะทัะตั ััะฐะฝะดะฐััะฝัะต ะฟัะพะฒะตัะบะธ ะธ ะดะตะปะฐะตั ะบะพะด ะฑะพะปะตะต ัะธัะฐะตะผัะผ.

---

## 4. **ะะะะะขะ ะก ะะะะะซะะ**

### ๐ฆ **TestDataGenerator.java** - ะคะฐะฑัะธะบะฐ ะดะฐะฝะฝัั

```java
public class TestDataGenerator {
    
    /**
     * ๐ค ะะตะฝะตัะฐัะพั ะดะฐะฝะฝัั ะดะปั ะฟัะพัะธะปะตะน
     */
    public static class Profile {
        
        /**
         * โ ะกะพะทะดะฐัั ะฒะฐะปะธะดะฝัะน ะฟัะพัะธะปั
         * 
         * ะัะธะผะตั:
         * ProfileDto profile = TestDataGenerator.Profile.valid();
         * // ะะตะทัะปััะฐั:
         * // - msisdn: 99680123456 (ะฟัะฐะฒะธะปัะฝัะน ัะพัะผะฐั)
         * // - userId: 1
         * // - pricePlanId: 3
         */
        public static ProfileDto valid() {
            return ProfileDto.builder()
                .msisdn(TestDataGenerator.Msisdn.valid())
                .userId(1)
                .pricePlanId(3)
                .build();
        }
        
        /**
         * โ ะกะพะทะดะฐัั ะฝะตะฒะฐะปะธะดะฝัะน ะฟัะพัะธะปั ั ะพัะธะฑะบะพะน MSISDN
         * 
         * ะัะธะผะตั:
         * ProfileDto badProfile = TestDataGenerator.Profile.withInvalidMsisdn(
         *     TestDataGenerator.MsisdnInvalidType.TOO_SHORT
         * );
         * // ะะตะทัะปััะฐั:
         * // - msisdn: "123" (ัะปะธัะบะพะผ ะบะพัะพัะบะธะน)
         * // - userId: 1
         * // - pricePlanId: 3
         * 
         * ะะฐัะตะผ?
         * - ะัะพะฒะตััะตะผ ััะพ API ะฟัะฐะฒะธะปัะฝะพ ะฒะฐะปะธะดะธััะตั ะฒัะพะดะฝัะต ะดะฐะฝะฝัะต
         * - API ะดะพะปะถะฝะฐ ะฒะตัะฝััั 400 Bad Request ะดะปั ัะฐะบะธั ะดะฐะฝะฝัั
         */
        public static ProfileDto withInvalidMsisdn(MsisdnInvalidType type) {
            return ProfileDto.builder()
                .msisdn(Msisdn.invalid(type))
                .userId(1)
                .pricePlanId(3)
                .build();
        }
    }
    
    /**
     * ๐ฑ ะะตะฝะตัะฐัะพั ะฒะฐะปะธะดะฝัั MSISDN
     * 
     * ะัะฐะฒะธะปัะฝัะน ัะพัะผะฐั MSISDN:
     * - ะะฐัะธะฝะฐะตััั ั 99680 (ะฟัะตัะธะบั ะพะฟะตัะฐัะพัะฐ)
     * - ะะฐะปะตะต 7 ัะธัั
     * - ะัะตะณะพ: 12 ัะธัั
     * - ะัะธะผะตัั: 99680123456, 99680999999
     */
    public static class Msisdn {
        
        public static String valid() {
            // ะะตะฝะตัะธััะตะผ ัะปััะฐะนะฝัะต 7 ัะธัั ะฟะพัะปะต ะฟัะตัะธะบัะฐ
            int randomPart = ThreadLocalRandom.current().nextInt(1000000, 9999999);
            return "99680" + randomPart;
        }
        
        public static String invalid(MsisdnInvalidType type) {
            return switch(type) {
                case TOO_SHORT -> "123";
                case WRONG_PREFIX -> "99681234567";
                case CONTAINS_LETTERS -> "996800123abc";
                case CONTAINS_SPACES -> "99680 0123456";
                case TOO_LONG -> "9968000000000";
            };
        }
    }
    
    public enum MsisdnInvalidType {
        TOO_SHORT, WRONG_PREFIX, CONTAINS_LETTERS, CONTAINS_SPACES, TOO_LONG
    }
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** TestDataGenerator - ััะพ "ัะฐะฑัะธะบะฐ" ะบะพัะพัะฐั ัะพะทะดะฐัั ะฒะฐะปะธะดะฝัะต ะธ ะฝะตะฒะฐะปะธะดะฝัะต ะดะฐะฝะฝัะต ะดะปั ัะตััะพะฒ.

---

### ๐ **DTO ะบะปะฐััั** - ะะพะดะตะปะธ ะดะฐะฝะฝัั

```java
@DisplayName("๐ค Data Transfer Object ะดะปั ะฟัะพัะธะปะตะน ะฐะฑะพะฝะตะฝัะพะฒ")
public class ProfileDto {
    
    private String msisdn;
    private Integer userId;
    private Integer pricePlanId;
    
    /**
     * ๐๏ธ Builder ะฟะฐััะตัะฝ ะดะปั ัะพะทะดะฐะฝะธั ะพะฑัะตะบัะพะฒ
     * 
     * ะะผะตััะพ ะบะพะฝััััะบัะพัะฐ ั 10 ะฟะฐัะฐะผะตััะฐะผะธ:
     *   new ProfileDto("99680123456", 1, 3, null, null, null, null, null, null, null)
     * 
     * ะัะฟะพะปัะทัะตะผ Builder:
     *   ProfileDto.builder()
     *     .msisdn("99680123456")
     *     .userId(1)
     *     .pricePlanId(3)
     *     .build()
     * 
     * ะัะตะธะผััะตััะฒะฐ:
     * - ะฏะฒะฝะพ ะฒะธะดะฝั ะฒัะต ะฟะพะปั
     * - ะะต ะฝัะถะฝะพ ะฟะพะผะฝะธัั ะฟะพััะดะพะบ ะฟะฐัะฐะผะตััะพะฒ
     * - IDE ะฐะฒัะพะดะพะฟะพะปะฝะตะฝะธะต ัะฐะฑะพัะฐะตั
     * - ะะตะณะบะพ ะฟัะพะฟัััะธัั ะพะฟัะธะพะฝะฐะปัะฝัะต ะฟะพะปั
     */
    public static ProfileDtoBuilder builder() {
        return new ProfileDtoBuilder();
    }
    
    /**
     * ๐ค ะะพะฝะฒะตััะธัะพะฒะฐัั DTO ะฒ JSON ะดะปั ะพัะฟัะฐะฒะบะธ ะฒ API
     * 
     * ะัะธะผะตั:
     * ProfileDto profile = TestDataGenerator.Profile.valid();
     * String json = profile.toJson();
     * // ะะตะทัะปััะฐั: {"msisdn":"99680123456","userId":1,"pricePlanId":3}
     * 
     * ะญัะพ ะธัะฟะพะปัะทัะตััั ะฒ REST Assured:
     * given()
     *   .body(profile.toJson())  // โ ะะดะตัั
     * .when()
     *   .post("/api/admin/profile/create")
     */
    public String toJson() {
        return String.format(
            "{\"msisdn\":\"%s\",\"userId\":%d,\"pricePlanId\":%d}",
            msisdn, userId, pricePlanId
        );
    }
    
    // ... getters, setters, equals, hashCode, toString ...
}
```

**ะะปััะตะฒะพะน ะผะพะผะตะฝั:** DTO ะธัะฟะพะปัะทััั Builder ะฟะฐััะตัะฝ ะดะปั ัะดะพะฑะฝะพะณะพ ะธ ััะฝะพะณะพ ัะพะทะดะฐะฝะธั ะพะฑัะตะบัะพะฒ.

---

## 5. **ะะะขะะะะะฆะะฏ ะก CI/CD**

### ๐ Maven Surefire Plugin (pom.xml)

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>3.2.2</version>
    <configuration>
        <!-- ะะบะปััะธัั ะปะพะณะธัะพะฒะฐะฝะธะต -->
        <reportFormat>plain</reportFormat>
        
        <!-- ะะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ (ะพะฟัะธะพะฝะฐะปัะฝะพ) -->
        <parallel>methods</parallel>
        <threadCount>4</threadCount>
        
        <!-- ะะต ะฟะฐะดะฐัั ะฟัะธ ะพัะธะฑะบะฐั (ะดะปั CI) -->
        <testFailureIgnore>false</testFailureIgnore>
    </configuration>
</plugin>
```

### ๐ CI/CD ะบะพะผะฐะฝะดั

```bash
# ะะฐ ะปะพะบะฐะปัะฝะพะน ะผะฐัะธะฝะต (ะดะปั ัะฐะทัะฐะฑะพััะธะบะฐ)
mvn clean verify

# ะะฐ Jenkins/Gitlab CI (ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ)
mvn clean verify --batch-mode --no-transfer-progress

# ะก Allure ะพััััะฐะผะธ
mvn clean verify
allure serve target/allure-results
```

---

## 6. **CONTRIBUTION GUIDE**

### ๐ **ะะผะตะฝะพะฒะฐะฝะธะต ะฒะตัะพะบ**
```
feature/TICKET-123-add-new-test
bugfix/TICKET-456-fix-flaky-test
refactor/improve-assertions
```

### โ **JUnit Best Practices**

1. **@DisplayName ะดะปั ะฒัะตั:**
   ```java
   // โ ะะปะพัะพ
   @Test
   void test1() { }
   
   // โ ะฅะพัะพัะพ
   @Test
   @DisplayName("ะะพะปะถะตะฝ ัะพะทะดะฐัั ะฟัะพัะธะปั ั ะฒะฐะปะธะดะฝัะผะธ ะดะฐะฝะฝัะผะธ")
   void shouldCreateProfileWithValidData() { }
   ```

2. **@Nested ะดะปั ะณััะฟะฟะธัะพะฒะบะธ:**
   ```java
   @Nested
   @DisplayName("โ ะะพะทะธัะธะฒะฝัะต ัะตััั")
   class PositiveCases {
       @Test
       void shouldCreateProfile() { }
   }
   
   @Nested
   @DisplayName("โ ะะตะณะฐัะธะฒะฝัะต ัะตััั")
   class NegativeCases {
       @Test
       void shouldFailWithInvalidData() { }
   }
   ```

3. **ะกะฐะผะพะดะพะบัะผะตะฝัะธััะตะผัะต ะธะผะตะฝะฐ:**
   ```java
   // โ ะงะธัะฐะตััั ะบะฐะบ ะฟัะตะดะปะพะถะตะฝะธะต
   void shouldReturnUnauthorizedWhenNoAuthHeaderProvided() { }
   
   // โ ะะต ะฟะพะฝััะฝะพ
   void test_401() { }
   ```

4. **ะัะณะบะธะต ะฟัะพะฒะตัะบะธ (assertAll):**
   ```java
   // โ ะัะพะฒะตััะตั ะะกะ ััะปะพะฒะธั, ะฟะพัะพะผ ะฟะฐะดะฐะตั
   Assertions.assertAll(
       () -> assertEquals(200, response.statusCode()),
       () -> assertEquals("OK", response.code()),
       () -> assertNotNull(response.content().id())
   );
   
   // โ ะะฐะดะฐะตั ะฝะฐ ะฟะตัะฒะพะน ะพัะธะฑะบะต
   assertEquals(200, response.statusCode());
   assertEquals("OK", response.code());
   ```

5. **ะะธะบะพะณะดะฐ try-catch ะฒ ัะตััะฐั:**
   ```java
   // โ ะะปะพัะพ (ัะตัั ะฟัะพะนะดัั ะดะฐะถะต ะตัะปะธ ะฑัะดะตั ะพัะธะฑะบะฐ)
   @Test
   void badTest() {
       try {
           // ะบะพะด
       } catch (Exception e) {
           e.printStackTrace();
       }
   }
   
   // โ ะฅะพัะพัะพ (ัะตัั ะฟะฐะดะฐะตั ะตัะปะธ ััะพ-ัะพ ะฝะต ัะฐะบ)
   @Test
   void goodTest() {
       // ะบะพะด (ะพัะธะฑะบะฐ ััะฐะทั ะฒะธะดะฝะฐ)
   }
   ```

---

## ๐ฏ **ะะะฎะงะะะซะ ะะซะะะะซ**

| ะะพะฝัะตะฟัะธั | ะะตะฐะปะธะทะฐัะธั | ะัะตะธะผััะตััะฒะพ |
|-----------|-----------|-------------|
| **ะะฒัะพัะธะทะฐัะธั** | BaseApiTest + ApiConfig + AuthUtils | ะะตั ะดัะฑะปะธัะพะฒะฐะฝะธั, ะพะดะฝะฐ ะธััะพัะฝะธะบ ะธััะธะฝั |
| **ะะฐะฝะฝัะต** | TestDataGenerator + DTO | ะะฐะปะธะดะฝัะต ะธ ะฝะตะฒะฐะปะธะดะฝัะต ะดะฐะฝะฝัะต ะณะพัะพะฒั |
| **ะัะพะฒะตัะบะธ** | ApiAssertions | ะกัะฐะฝะดะฐััะฝัะต ะฟัะพะฒะตัะบะธ, ะผะตะฝััะต ะบะพะดะฐ |
| **ะะพะณะธัะพะฒะฐะฝะธะต** | SLF4J + Logback | ะะธะดะธะผ ััะพ ะฟัะพะธััะพะดะธั ะฒ ัะตััะฐั |
| **ะะฐัะฐะผะตััะธะทะฐัะธั** | @ParameterizedTest | ะะผะตััะพ 5 ะผะตัะพะดะพะฒ - 1 ะฟะฐัะฐะผะตััะธะทะพะฒะฐะฝะฝัะน |
| **ะััะฟะฟะธัะพะฒะบะฐ** | @Nested + @Tag | ะัะณะฐะฝะธะทะพะฒะฐะฝะฝัะต ะธ ะฟะพะฝััะฝัะต ัะตััั |

---

**ะญัะฐ ะฐััะธัะตะบัััะฐ ะดะตะปะฐะตั ััะตะนะผะฒะพัะบ ะธะดะตะฐะปัะฝัะผ ะดะปั ะพะฑััะตะฝะธั Junior-ัะฟะตัะธะฐะปะธััะพะฒ!** ๐
